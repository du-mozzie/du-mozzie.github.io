import{_ as e}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as n,h as a}from"./app-_dpSlb4u.js";const i={},r=a(`<p>Docker安装Redis笔记</p><h2 id="安装redis" tabindex="-1"><a class="header-anchor" href="#安装redis"><span>安装Redis</span></a></h2><p>通过<code>docker search redis</code>和<code>docker pull redis</code>下载redis镜像</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 通过关键词搜索可用的redis镜像</span>
<span class="token function">docker</span> search redis
NAME                             DESCRIPTION                                     STARS               OFFICIAL            AUTOMATED
redis                            Redis is an <span class="token function">open</span> <span class="token builtin class-name">source</span> key-value store that…   <span class="token number">8297</span>                <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
bitnami/redis                    Bitnami Redis Docker Image                      <span class="token number">148</span>                                     <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
sameersbn/redis                                                                  <span class="token number">80</span>                                      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
grokzen/redis-cluster            Redis cluster <span class="token number">3.0</span>, <span class="token number">3.2</span>, <span class="token number">4.0</span>, <span class="token number">5.0</span>, <span class="token number">6.0</span>           <span class="token number">68</span>
rediscommander/redis-commander   Alpine image <span class="token keyword">for</span> redis-commander - Redis man…   <span class="token number">41</span>                                      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
kubeguide/redis-master           redis-master with <span class="token string">&quot;Hello World!&quot;</span>                <span class="token number">31</span>
redislabs/redis                  Clustered in-memory database engine compatib…   <span class="token number">25</span>
redislabs/redisearch             Redis With the RedisSearch module pre-loaded…   <span class="token number">23</span>
oliver006/redis_exporter          Prometheus Exporter <span class="token keyword">for</span> Redis Metrics. Supp…   <span class="token number">22</span>
arm32v7/redis                    Redis is an <span class="token function">open</span> <span class="token builtin class-name">source</span> key-value store that…   <span class="token number">21</span>
bitnami/redis-sentinel           Bitnami Docker Image <span class="token keyword">for</span> Redis Sentinel         <span class="token number">14</span>                                      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
webhippie/redis                  Docker images <span class="token keyword">for</span> Redis                         <span class="token number">12</span>                                      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
redislabs/redisgraph             A graph database module <span class="token keyword">for</span> Redis               <span class="token number">11</span>                                      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
s7anley/redis-sentinel-docker    Redis Sentinel                                  <span class="token number">10</span>                                      <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
arm64v8/redis                    Redis is an <span class="token function">open</span> <span class="token builtin class-name">source</span> key-value store that…   <span class="token number">9</span>
insready/redis-stat              Docker image <span class="token keyword">for</span> the real-time Redis monitor…   <span class="token number">9</span>                                       <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
redislabs/redisinsight           RedisInsight - The GUI <span class="token keyword">for</span> Redis                <span class="token number">7</span>
redislabs/redismod               An automated build of redismod - latest Redi…   <span class="token number">7</span>                                       <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
centos/redis-32-centos7          Redis in-memory data structure store, used a…   <span class="token number">5</span>
circleci/redis                   CircleCI images <span class="token keyword">for</span> Redis                       <span class="token number">4</span>                                       <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
clearlinux/redis                 Redis key-value data structure server with t…   <span class="token number">2</span>
runnable/redis-stunnel           stunnel to redis provided by linking contain…   <span class="token number">1</span>                                       <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
tiredofit/redis                  Redis Server w/ Zabbix monitoring and S6 Ove…   <span class="token number">1</span>                                       <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
wodby/redis                      Redis container image with orchestration        <span class="token number">1</span>                                       <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>
xetamus/redis-resource           forked redis-resource                           <span class="token number">0</span>                                       <span class="token punctuation">[</span>OK<span class="token punctuation">]</span>

<span class="token comment"># 下载最新版本的Redis镜像</span>
<span class="token function">docker</span> pull redis
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="新增挂载配置文件夹" tabindex="-1"><a class="header-anchor" href="#新增挂载配置文件夹"><span>新增挂载配置文件夹</span></a></h2><blockquote><p>因为 redis 默认配置你会发现只能够本地连接，不能进行远程访问，使用 Redis Desktop Manager连接都会报错，因此需要手动挂载 redis 配置文件/ 新建<code>data</code>和<code>conf</code>两个文件夹，位置随意。例如：</p></blockquote><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /export/servers/redis/conf
<span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /export/servers/redis/data
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="新增redis配置文件" tabindex="-1"><a class="header-anchor" href="#新增redis配置文件"><span>新增Redis配置文件</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">vim</span> /export/servers/redis/conf/redis.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>内容如下：</p><div class="language-css line-numbers-mode" data-ext="css" data-title="css"><pre class="language-css"><code>#bind 127.0.0.1 
protected-mode no
appendonly yes 
requirepass root 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>将bind 127.0.0.1注释掉，保证可以从远程访问到该Redis，不单单是从本地</li><li>appendonly：开启数据持久化到磁盘，由于开启了磁盘映射，数据最终将落到<code>/export/server/redis/data</code>目录下</li><li>requirepass：设置访问密码为root</li></ul><h2 id="创建redis容器并启动" tabindex="-1"><a class="header-anchor" href="#创建redis容器并启动"><span>创建redis容器并启动</span></a></h2><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true <span class="token punctuation">\\</span>
<span class="token parameter variable">-p</span> <span class="token number">6379</span>:6379 <span class="token parameter variable">--name</span> redis <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /export/servers/redis/data:/data <span class="token punctuation">\\</span>
<span class="token parameter variable">-v</span> /export/servers/redis/conf/redis.conf:/etc/redis/redis.conf <span class="token punctuation">\\</span>
<span class="token parameter variable">-d</span> redis redis-server /etc/redis/redis.conf
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>docker run</code>表示运行的意思</li><li><code>--name redis</code>表示运行容器的名字叫<code>redis</code></li><li><code>-p 6379:6379</code>表示将服务器的6379（冒号前的6379）端口映射到docker的6379（冒号后的6379）端口，这样就可以通过服务器的端口访问到docker容器的端口了</li><li>-d 表示以后台服务的形式运行redis</li><li><code>-v /export/servers/redis/data:/data</code>表示将服务器上的<code>/export/server/redis/data</code>映射为docker容器上的<code>/data</code> ，这样<code>/data</code>中产生的数据就可以持久化到本地的目录下了</li><li><code>-v /export/servers/redis/conf/redis.conf:/etc/redis/redis.conf</code>表示将本地<code>/export/server/redis/conf/redis.conf</code>映射为docker容器上的<code>/etc/redis/redis.conf</code>，这样再配合指令末尾的<code>redis redis-server /etc/redis/redis.conf</code>实现让docker容器运行时使用本地配置的Redis配置文件的功能了。</li><li><code>redis redis-server /etc/redis/redis.conf</code>表示运行redis服务器程序，并且指定运行时的配置文件</li></ul>`,15),t=[r];function d(o,c){return s(),n("div",null,t)}const u=e(i,[["render",d],["__file","install.html.vue"]]),m=JSON.parse('{"path":"/code/redis/install.html","title":"Docker安装Redis","lang":"zh-CN","frontmatter":{"order":2,"title":"Docker安装Redis","date":"2022-01-21T00:00:00.000Z","category":["Redis","分布式"],"tag":["Redis","分布式"],"timeline":true,"article":true,"description":"Docker安装Redis笔记 安装Redis 通过docker search redis和docker pull redis下载redis镜像 新增挂载配置文件夹 因为 redis 默认配置你会发现只能够本地连接，不能进行远程访问，使用 Redis Desktop Manager连接都会报错，因此需要手动挂载 redis 配置文件/ 新建data和c...","head":[["meta",{"property":"og:url","content":"https://du-mozzie.github.io/code/redis/install.html"}],["meta",{"property":"og:title","content":"Docker安装Redis"}],["meta",{"property":"og:description","content":"Docker安装Redis笔记 安装Redis 通过docker search redis和docker pull redis下载redis镜像 新增挂载配置文件夹 因为 redis 默认配置你会发现只能够本地连接，不能进行远程访问，使用 Redis Desktop Manager连接都会报错，因此需要手动挂载 redis 配置文件/ 新建data和c..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-13T03:35:17.000Z"}],["meta",{"property":"article:author","content":"mozzie"}],["meta",{"property":"article:tag","content":"Redis"}],["meta",{"property":"article:tag","content":"分布式"}],["meta",{"property":"article:published_time","content":"2022-01-21T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-13T03:35:17.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Docker安装Redis\\",\\"image\\":[\\"\\"],\\"datePublished\\":\\"2022-01-21T00:00:00.000Z\\",\\"dateModified\\":\\"2024-06-13T03:35:17.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"mozzie\\",\\"url\\":\\"https://du-mozzie.github.io\\"}]}"]]},"headers":[{"level":2,"title":"安装Redis","slug":"安装redis","link":"#安装redis","children":[]},{"level":2,"title":"新增挂载配置文件夹","slug":"新增挂载配置文件夹","link":"#新增挂载配置文件夹","children":[]},{"level":2,"title":"新增Redis配置文件","slug":"新增redis配置文件","link":"#新增redis配置文件","children":[]},{"level":2,"title":"创建redis容器并启动","slug":"创建redis容器并启动","link":"#创建redis容器并启动","children":[]}],"git":{"createdTime":1717727796000,"updatedTime":1718249717000,"contributors":[{"name":"du","email":"25484255238@qq.com","commits":2}]},"readingTime":{"minutes":2.43,"words":729},"filePathRelative":"code/redis/install.md","localizedDate":"2022年1月21日","excerpt":"<p>Docker安装Redis笔记</p>","autoDesc":true}');export{u as comp,m as data};
