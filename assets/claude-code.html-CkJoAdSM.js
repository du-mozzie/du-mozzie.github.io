import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o,c,b as n,d as e,e as i,h as s}from"./app-BhpC3I6z.js";const d={},r=n("p",null,"由于Claude Code在Windows环境下的安装有点复杂，专门写这篇文章记录一下。",-1),p=n("h2",{id:"windows安装claude-code",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#windows安装claude-code"},[n("span",null,"Windows安装Claude Code")])],-1),u={href:"https://docs.anthropic.com/en/docs/claude-code/overview",target:"_blank",rel:"noopener noreferrer"},m=s(`<p>Claude Code是不支持直接在Windows中使用的，需要安装WSL(Windows Subsystem for Linux)，适用于 Linux 的 Windows 子系统</p><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507051203898.png" style="zoom:80%;"><h3 id="启用wsl功能" tabindex="-1"><a class="header-anchor" href="#启用wsl功能"><span>启用WSL功能</span></a></h3><ol><li><p>Windows 下使用 WSL 功能需要系统是专业版</p><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507042149058.png" style="zoom:80%;"></li><li><p>开启 Windows 功能，快捷键 Win + Q 搜索 &quot;启用或关闭 Windows 功能&quot;，一共要开启三个功能，开启后需要重启一下电脑</p><ul><li>Hyper-V</li><li>适用于Linux的Windows子系统</li><li>虚拟机平台</li></ul><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507042152797.png" style="zoom:80%;"></li><li><p>以管理员身份打开 PowerShell</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 使用默认发行版（Ubuntu）安装 WSL2</span>
wsl <span class="token parameter variable">--install</span>

<span class="token comment"># 如果上面的情况安装不好，使用下面的命令，指明版本</span>
wsl <span class="token parameter variable">--install</span> <span class="token parameter variable">-d</span> Ubuntu-22.04
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>安装好后再次重启</p></li><li><p>验证 WSL 2安装</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>wsl <span class="token parameter variable">-l</span> <span class="token parameter variable">-v</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果显示 1，升级到 WSL2：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 将 WSL2 设置为默认版本</span>
wsl --set-default-version <span class="token number">2</span>
<span class="token comment"># 将现有发行版转换为版本 2</span>
wsl --set-version Ubuntu-22.04 <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>上面安装好 <strong>Ubuntu</strong> 会自动打开终端，跟着提示一步步配置账号密码</p></li><li><p>配置好系统后需要安装一些需要的开发工具，跟着下面的指令一步步执行即可</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 先升级一下软件包</span>
<span class="token function">sudo</span> <span class="token function">apt</span> update <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt</span> upgrade <span class="token parameter variable">-y</span>

<span class="token comment"># 安装git、ccurl、构建工具</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">git</span> <span class="token function">curl</span> build-essential <span class="token parameter variable">-y</span>

<span class="token comment"># 配置git</span>
<span class="token function">git</span> config <span class="token parameter variable">--global</span> user.name <span class="token string">&quot;Your Name&quot;</span>
<span class="token function">git</span> config <span class="token parameter variable">--global</span> user.email <span class="token string">&quot;your@email.com&quot;</span>
<span class="token function">git</span> config <span class="token parameter variable">--global</span> init.defaultBranch main

<span class="token comment"># Python依赖</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> python3-pip python3-venv <span class="token parameter variable">-y</span>

<span class="token comment"># 使用 pyenv 安装 Python（在 WSL 中）</span>
<span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> <span class="token function">make</span> libssl-dev zlib1g-dev <span class="token punctuation">\\</span>
libbz2-dev libreadline-dev libsqlite3-dev <span class="token function">wget</span> llvm <span class="token punctuation">\\</span>
libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev <span class="token punctuation">\\</span>
libffi-dev liblzma-dev <span class="token parameter variable">-y</span>

<span class="token comment"># 安装 pyenv</span>
<span class="token function">curl</span> https://pyenv.run <span class="token operator">|</span> <span class="token function">bash</span>

<span class="token comment"># 把pyenv 添加到 shell 并重新加载</span>
shecho <span class="token string">&#39;export PYENV_ROOT=&quot;$HOME/.pyenv&quot;&#39;</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
<span class="token builtin class-name">echo</span> <span class="token string">&#39;command -v pyenv &gt;/dev/null || export PATH=&quot;$PYENV_ROOT/bin:$PATH&quot;&#39;</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
<span class="token builtin class-name">echo</span> <span class="token string">&#39;eval &quot;$(pyenv init -)&quot;&#39;</span> <span class="token operator">&gt;&gt;</span> ~/.bashrc
<span class="token builtin class-name">source</span> ~/.bashrc

<span class="token comment"># 安装 Python 版本并设置为默认版本</span>
pyenv <span class="token function">install</span> <span class="token number">3.11</span>.8
pyenv global <span class="token number">3.11</span>.8

<span class="token comment"># 安装 nvm（Node管理工具）</span>
<span class="token function">curl</span> -o- https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh <span class="token operator">|</span> <span class="token function">bash</span>
<span class="token comment"># 重新加载 shell 以使 nvm 可用：</span>
<span class="token builtin class-name">source</span> ~/.bashrc

<span class="token comment"># 安装 Node，最新 LTS 版本</span>
nvm <span class="token function">install</span> <span class="token parameter variable">--lts</span>
nvm use <span class="token parameter variable">--lts</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p>自此关于WSL的基本安装都配置好了</p><h3 id="安装claude-code" tabindex="-1"><a class="header-anchor" href="#安装claude-code"><span>安装Claude Code</span></a></h3><p>Claude Code 通过npm安装</p>`,7),v=s(`<p>安装命令</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> @anthropic-ai/claude-code
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果安装出现了我下面这种情况，其实可以看到WSL在使用windows的npm</p><figure><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507042209688.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,4),b={href:"https://docs.anthropic.com/en/docs/claude-code/setup#troubleshooting",target:"_blank",rel:"noopener noreferrer"},h=n("strong",null,"OS/platform detection issues",-1),g=n("code",null,"npm",-1),k=s(`<div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">npm</span> config <span class="token builtin class-name">set</span> os linux

<span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> @anthropic-ai/claude-code <span class="token parameter variable">--force</span> --no-os-check <span class="token comment"># 注意不要用sudo</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>我试了一下官方的解决方案，但是也不太好使，目前也没发现什么好的解决办法，因为我本地也是 nvm 管理的，我直接把node卸载了，重新source ~/.bashrc就行了；<em>估计我执行命令还是走的Windows的npm</em></li></ul><figure><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507042216703.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure>`,3),f=s(`<p>启动claude</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>claude
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果出现我下面这种情况就是你的网络有问题，Claude 需要科学上网，可以自行配置一下网络</p><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507050855331.png" style="zoom:80%;"><p>第一次运行 <code>claude</code>时，会看到身份验证选项：</p>`,5),_=n("strong",null,"Anthropic 控制台（按使用付费）",-1),w=n("li",null,"如果你想按 API 使用量付费，请选择此选项",-1),z={href:"http://console.anthropic.com/",target:"_blank",rel:"noopener noreferrer"},C=n("li",null,"Claude 将打开一个浏览器窗口进行 OAuth 身份验证",-1),y=n("li",null,"如果你在没有 GUI 的 WSL 中，URL 将打印在终端中",-1),W=n("li",null,"在任何电脑上打开 URL 并使用你的 Anthropic 凭据登录",-1),x=n("strong",null,"Claude 应用（专业版/最大版套餐）",-1),P=n("li",null,"如果你有 Claude 专业版（每月 20 美元）或最大版（每月 100-200 美元）订阅，请选择此选项",-1),S={href:"http://claude.ai/",target:"_blank",rel:"noopener noreferrer"},L=n("li",null,"这为 Claude Code 和 Web 界面提供统一的订阅",-1),T=s(`<figure><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507051126136.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>如果使用一些三方的镜像可以使用下面的方式授权</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">export</span> <span class="token assign-left variable">ANTHROPIC_AUTH_TOKEN</span><span class="token operator">=</span>你的apikey
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ANTHROPIC_BASE_URL</span><span class="token operator">=</span>镜像站的代理url
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,3),G=n("h3",{id:"使用-claude",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#使用-claude"},[n("span",null,"使用 Claude")])],-1),N=n("p",null,[e("使用之前先说一个注意点：在 Ubuntu 中有一个目录 "),n("code",null,"/mnt"),e(" 我们Windows系统中的文件就挂载到这个位置")],-1),A=n("figure",null,[n("img",{src:"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507051100032.png",alt:"",tabindex:"0",loading:"lazy"}),n("figcaption")],-1),O=n("p",null,"进入你的项目目录，然后启动 Claude，直接输入你想要的内容即可",-1),q=n("figure",null,[n("img",{src:"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507051136396.png",alt:"",tabindex:"0",loading:"lazy"}),n("figcaption")],-1);function U(I,E){const a=l("ExternalLinkIcon");return o(),c("div",null,[r,p,n("p",null,[n("a",u,[e("官方文档"),i(a)]),e("介绍中可以看到，Claude Code支持的平台: macOS 10.15+, Ubuntu 20.04+/Debian 10+, or Windows via WSL")]),m,n("ul",null,[n("li",null,[v,n("ul",null,[n("li",null,[e("还有一种情况可能要执行一个命令，"),n("a",b,[e("官方有一句话"),i(a)]),e("："),h,e(": If you receive an error during installation, WSL may be using Windows "),g,e("，说明了WSL在使用windows 的npm，也可以试试")])]),k]),n("li",null,[f,n("ol",null,[n("li",null,[_,e("： "),n("ul",null,[w,n("li",null,[e("需要在 "),n("a",z,[e("console.anthropic.com"),i(a)]),e(" 激活账单")]),C,y,W])]),n("li",null,[x,e("： "),n("ul",null,[P,n("li",null,[e("使用你的 "),n("a",S,[e("Claude.ai"),i(a)]),e(" 帐户凭据登录")]),L])])]),T])]),G,N,A,O,q])}const V=t(d,[["render",U],["__file","claude-code.html.vue"]]),Z=JSON.parse('{"path":"/code/ai/claude-code.html","title":"Windows下安装Claude Code","lang":"zh-CN","frontmatter":{"order":4,"title":"Windows下安装Claude Code","date":"2025-07-04T00:00:00.000Z","category":"AI工具","tag":"AI工具","timeline":true,"article":true,"description":"由于Claude Code在Windows环境下的安装有点复杂，专门写这篇文章记录一下。 Windows安装Claude Code 官方文档介绍中可以看到，Claude Code支持的平台: macOS 10.15+, Ubuntu 20.04+/Debian 10+, or Windows via WSL Claude Code是不支持直接在Wind...","head":[["meta",{"property":"og:url","content":"https://du-mozzie.github.io/code/ai/claude-code.html"}],["meta",{"property":"og:title","content":"Windows下安装Claude Code"}],["meta",{"property":"og:description","content":"由于Claude Code在Windows环境下的安装有点复杂，专门写这篇文章记录一下。 Windows安装Claude Code 官方文档介绍中可以看到，Claude Code支持的平台: macOS 10.15+, Ubuntu 20.04+/Debian 10+, or Windows via WSL Claude Code是不支持直接在Wind..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507042209688.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-07-05T04:11:25.000Z"}],["meta",{"property":"article:author","content":"mozzie"}],["meta",{"property":"article:tag","content":"AI工具"}],["meta",{"property":"article:published_time","content":"2025-07-04T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2025-07-05T04:11:25.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Windows下安装Claude Code\\",\\"image\\":[\\"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507042209688.png\\",\\"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507042216703.png\\",\\"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507051126136.png\\",\\"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507051100032.png\\",\\"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/202507051136396.png\\"],\\"datePublished\\":\\"2025-07-04T00:00:00.000Z\\",\\"dateModified\\":\\"2025-07-05T04:11:25.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"mozzie\\",\\"url\\":\\"https://du-mozzie.github.io\\"}]}"]]},"headers":[{"level":2,"title":"Windows安装Claude Code","slug":"windows安装claude-code","link":"#windows安装claude-code","children":[{"level":3,"title":"启用WSL功能","slug":"启用wsl功能","link":"#启用wsl功能","children":[]},{"level":3,"title":"安装Claude Code","slug":"安装claude-code","link":"#安装claude-code","children":[]},{"level":3,"title":"使用 Claude","slug":"使用-claude","link":"#使用-claude","children":[]}]}],"git":{"createdTime":1751688685000,"updatedTime":1751688685000,"contributors":[{"name":"mozzie","email":"du.mozzie@outlook.com","commits":1}]},"readingTime":{"minutes":3.87,"words":1162},"filePathRelative":"code/ai/claude-code.md","localizedDate":"2025年7月4日","excerpt":"<p>由于Claude Code在Windows环境下的安装有点复杂，专门写这篇文章记录一下。</p>","autoDesc":true}');export{V as comp,Z as data};
