import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as e,c as i,h as o}from"./app-CoXvZlmp.js";const a={},r=o('<p>MySQL的一些调优经验</p><h2 id="mysql数据库cpu飙升如何定位分析" tabindex="-1"><a class="header-anchor" href="#mysql数据库cpu飙升如何定位分析"><span>MySQL数据库CPU飙升如何定位分析</span></a></h2><blockquote><p>使用top观察mysqld的cpu利用率（确认问题是由mysqld产生的）</p></blockquote><ol><li><p>切换到常用的数据库</p></li><li><p>使用 <strong>show full processlist</strong> 查看会话</p><figure><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611223146267.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li><li><p>观察是哪些sql消耗了资源，其中重点观察state指标</p></li><li><p>定位到具体sql</p></li></ol><blockquote><p>使用pidstate</p></blockquote><ol><li><p>定位到线程</p><figure><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611224045171.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li><li><p>在数据库 <strong>performance_schema.threads</strong> 中记录了 thread_os_id 找到执行的sql</p><figure><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611224317970.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li><li><p>根据操作系统id可以到 <strong>performance_schema.processlist</strong> 表找到对应的会话</p><figure><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611224347159.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li><li><p>在会话中即可定位到问题sql</p></li></ol>',6),s=[r];function p(m,c){return e(),i("div",null,s)}const g=t(a,[["render",p],["__file","optimize.html.vue"]]),u=JSON.parse('{"path":"/code/mysql/optimize.html","title":"调优","lang":"zh-CN","frontmatter":{"order":7,"title":"调优","date":"2021-09-16T00:00:00.000Z","category":"MySQL","tag":"MySQL","timeline":true,"article":true,"description":"MySQL的一些调优经验 MySQL数据库CPU飙升如何定位分析 使用top观察mysqld的cpu利用率（确认问题是由mysqld产生的） 切换到常用的数据库 使用 show full processlist 查看会话 观察是哪些sql消耗了资源，其中重点观察state指标 定位到具体sql 使用pidstate 定位到线程 在数据库 perform...","head":[["meta",{"property":"og:url","content":"https://du-mozzie.github.io/code/mysql/optimize.html"}],["meta",{"property":"og:title","content":"调优"}],["meta",{"property":"og:description","content":"MySQL的一些调优经验 MySQL数据库CPU飙升如何定位分析 使用top观察mysqld的cpu利用率（确认问题是由mysqld产生的） 切换到常用的数据库 使用 show full processlist 查看会话 观察是哪些sql消耗了资源，其中重点观察state指标 定位到具体sql 使用pidstate 定位到线程 在数据库 perform..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611223146267.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-20T03:00:38.000Z"}],["meta",{"property":"article:author","content":"mozzie"}],["meta",{"property":"article:tag","content":"MySQL"}],["meta",{"property":"article:published_time","content":"2021-09-16T00:00:00.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-20T03:00:38.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"调优\\",\\"image\\":[\\"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611223146267.png\\",\\"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611224045171.png\\",\\"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611224317970.png\\",\\"https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611224347159.png\\"],\\"datePublished\\":\\"2021-09-16T00:00:00.000Z\\",\\"dateModified\\":\\"2024-06-20T03:00:38.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"mozzie\\",\\"url\\":\\"https://du-mozzie.github.io\\"}]}"]]},"headers":[{"level":2,"title":"MySQL数据库CPU飙升如何定位分析","slug":"mysql数据库cpu飙升如何定位分析","link":"#mysql数据库cpu飙升如何定位分析","children":[]}],"git":{"createdTime":1718117054000,"updatedTime":1718852438000,"contributors":[{"name":"du","email":"25484255238@qq.com","commits":2}]},"readingTime":{"minutes":0.61,"words":182},"filePathRelative":"code/mysql/optimize.md","localizedDate":"2021年9月16日","excerpt":"<p>MySQL的一些调优经验</p>","autoDesc":true}');export{g as comp,u as data};
