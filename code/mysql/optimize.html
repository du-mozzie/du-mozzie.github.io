<!doctype html>
<html lang="zh-CN" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.9" />
    <meta name="theme" content="VuePress Theme Hope 2.0.0-rc.38" />
    <style>
      html {
        background: var(--bg-color, #fff);
      }

      html[data-theme="dark"] {
        background: var(--bg-color, #1d1e1f);
      }

      body {
        background: var(--bg-color);
      }
    </style>
    <script>
      const userMode = localStorage.getItem("vuepress-theme-hope-scheme");
      const systemDarkMode =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;

      if (userMode === "dark" || (userMode !== "light" && systemDarkMode)) {
        document.documentElement.setAttribute("data-theme", "dark");
      }
    </script>
    <meta property="og:url" content="https://du-mozzie.github.io/code/mysql/optimize.html"><meta property="og:title" content="è°ƒä¼˜"><meta property="og:description" content="MySQLçš„ä¸€äº›è°ƒä¼˜ç»éªŒ EXPLAIN ä»€ä¹ˆæ˜¯explain ä½¿ç”¨explainå¯ä»¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡ŒSQLæŸ¥è¯¢è¯­å¥ï¼Œä»è€ŒçŸ¥é“MySQLæ€ä¹ˆå¤„ç†ä½ çš„SQLè¯­å¥çš„ï¼Œåˆ†æä½ çš„æŸ¥è¯¢è¯­å¥å’Œè¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆã€‚ explainèƒ½å¤Ÿå¹²ä»€ä¹ˆ è¯»å–è¡¨çš„é¡ºåº å“ªäº›ç´¢å¼•èƒ½å¤Ÿè¢«ä½¿ç”¨ æ•°æ®è¯»å–æ“ä½œçš„æ“ä½œç±»å‹ å“ªäº›ç´¢å¼•èƒ½å¤Ÿè¢«å®é™…ä½¿ç”¨ è¡¨ä¹‹é—´çš„å¼•ç”¨ æ¯å¼ è¡¨æœ‰å¤šå°‘è¡Œè¢«ç‰©ç†æŸ¥è¯¢ åˆ›å»ºä¸€ä¸ª..."><meta property="og:type" content="article"><meta property="og:image" content="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611223146267.png"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2024-08-15T06:23:54.000Z"><meta property="article:author" content="mozzie"><meta property="article:tag" content="MySQL"><meta property="article:published_time" content="2021-09-16T00:00:00.000Z"><meta property="article:modified_time" content="2024-08-15T06:23:54.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"è°ƒä¼˜","image":["https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611223146267.png","https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611224045171.png","https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611224317970.png","https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611224347159.png"],"datePublished":"2021-09-16T00:00:00.000Z","dateModified":"2024-08-15T06:23:54.000Z","author":[{"@type":"Person","name":"mozzie","url":"https://du-mozzie.github.io"}]}</script><link rel="stylesheet" href="//at.alicdn.com/t/font_2410206_mfj6e1vbwo.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_3294373_aaebeoej8c7.css"><script src="//hm.baidu.com/hm.js?062f74a68f105c60f10f2a0fc9cc9803"></script><script src="/assets/js/clarity.js"></script><title>è°ƒä¼˜</title><meta name="description" content="MySQLçš„ä¸€äº›è°ƒä¼˜ç»éªŒ EXPLAIN ä»€ä¹ˆæ˜¯explain ä½¿ç”¨explainå¯ä»¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡ŒSQLæŸ¥è¯¢è¯­å¥ï¼Œä»è€ŒçŸ¥é“MySQLæ€ä¹ˆå¤„ç†ä½ çš„SQLè¯­å¥çš„ï¼Œåˆ†æä½ çš„æŸ¥è¯¢è¯­å¥å’Œè¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆã€‚ explainèƒ½å¤Ÿå¹²ä»€ä¹ˆ è¯»å–è¡¨çš„é¡ºåº å“ªäº›ç´¢å¼•èƒ½å¤Ÿè¢«ä½¿ç”¨ æ•°æ®è¯»å–æ“ä½œçš„æ“ä½œç±»å‹ å“ªäº›ç´¢å¼•èƒ½å¤Ÿè¢«å®é™…ä½¿ç”¨ è¡¨ä¹‹é—´çš„å¼•ç”¨ æ¯å¼ è¡¨æœ‰å¤šå°‘è¡Œè¢«ç‰©ç†æŸ¥è¯¢ åˆ›å»ºä¸€ä¸ª...">
    <link rel="preload" href="/assets/style-HqpqC_EL.css" as="style"><link rel="stylesheet" href="/assets/style-HqpqC_EL.css">
    <link rel="modulepreload" href="/assets/app-Bx7td0iL.js"><link rel="modulepreload" href="/assets/optimize.html-BNCWR4eg.js"><link rel="modulepreload" href="/assets/plugin-vue_export-helper-DlAUqK2U.js">
    
  </head>
  <body>
    <div id="app"><!--[--><!--[--><!--[--><span tabindex="-1"></span><a href="#main-content" class="vp-skip-link sr-only">è·³è‡³ä¸»è¦å…§å®¹</a><!--]--><!--[--><div class="theme-container has-toc"><!--[--><header id="navbar" class="vp-navbar"><div class="vp-navbar-start"><button type="button" class="vp-toggle-sidebar-button" title="Toggle Sidebar"><span class="icon"></span></button><!--[--><!----><!--]--><!--[--><a class="route-link vp-brand" href="/"><img class="vp-nav-logo" src="/assets/images/mozzie.png" alt><!----><!----></a><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-center"><!--[--><!----><!--]--><!--[--><nav class="vp-nav-links"><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/" aria-label="ä¸»é¡µ"><span class="font-icon icon fa-fw fa-sm iconfont icon-home" style=""></span>ä¸»é¡µ<!----></a></div><div class="vp-nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="ä»£ç ç¬”è®°"><span class="title"><span class="font-icon icon fa-fw fa-sm iconfont icon-code" style=""></span>ä»£ç ç¬”è®°</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/code/data-structure-and-algorithms/" aria-label="æ•°æ®ç»“æ„ä¸ç®—æ³•"><img class="icon" src="/assets/images/navbar/data-structure.svg" alt aria-hidden no-view style="">æ•°æ®ç»“æ„ä¸ç®—æ³•<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/code/java/" aria-label="Java"><img class="icon" src="/assets/images/navbar/java.svg" alt aria-hidden no-view style="">Java<!----></a></li><li class="dropdown-item"><a class="route-link nav-link active" href="/code/mysql/" aria-label="MySQL"><img class="icon" src="/assets/images/navbar/mysql.svg" alt aria-hidden no-view style="">MySQL<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/code/spring/" aria-label="Spring"><img class="icon" src="/assets/images/navbar/spring.svg" alt aria-hidden no-view style="">Spring<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/code/redis/" aria-label="Redis"><img class="icon" src="/assets/images/navbar/redis.svg" alt aria-hidden no-view style="">Redis<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/code/distributed/" aria-label="åˆ†å¸ƒå¼"><img class="icon" src="/assets/images/navbar/distributed.svg" alt aria-hidden no-view style="">åˆ†å¸ƒå¼<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/code/notes/" aria-label="æ‚è®°"><img class="icon" src="/assets/images/navbar/notes.svg" alt aria-hidden no-view style="">æ‚è®°<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><div class="dropdown-wrapper"><button type="button" class="dropdown-title" aria-label="åˆ†ç±»"><span class="title"><span class="font-icon icon fa-fw fa-sm iconfont icon-type" style=""></span>åˆ†ç±»</span><span class="arrow"></span><ul class="nav-dropdown"><li class="dropdown-item"><a class="route-link nav-link" href="/category/" aria-label="åˆ†ç±»"><img class="icon" src="/assets/images/navbar/category.svg" alt aria-hidden no-view style="">åˆ†ç±»<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/tag/" aria-label="æ ‡ç­¾"><img class="icon" src="/assets/images/navbar/tag.svg" alt aria-hidden no-view style="">æ ‡ç­¾<!----></a></li><li class="dropdown-item"><a class="route-link nav-link" href="/timeline/" aria-label="æ—¶é—´çº¿"><img class="icon" src="/assets/images/navbar/timeline.svg" alt aria-hidden no-view style="">æ—¶é—´çº¿<!----></a></li></ul></button></div></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/jottings/" aria-label="éšç¬”"><span class="font-icon icon fa-fw fa-sm fa-solid fa-compass-drafting" style=""></span>éšç¬”<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/links.html" aria-label="é“¾æ¥"><span class="font-icon icon fa-fw fa-sm iconfont icon-link" style=""></span>é“¾æ¥<!----></a></div><div class="vp-nav-item hide-in-mobile"><a class="route-link nav-link" href="/about.html" aria-label="å…³äºæˆ‘"><span class="font-icon icon fa-fw fa-sm iconfont icon-people" style=""></span>å…³äºæˆ‘<!----></a></div></nav><!--]--><!--[--><!----><!--]--></div><div class="vp-navbar-end"><!--[--><!----><!--]--><!--[--><!----><!----><div class="vp-nav-item hide-in-mobile"><button type="button" id="appearance-switch"><svg xmlns="http://www.w3.org/2000/svg" class="icon auto-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="auto icon" style="display:block;"><path d="M512 992C246.92 992 32 777.08 32 512S246.92 32 512 32s480 214.92 480 480-214.92 480-480 480zm0-840c-198.78 0-360 161.22-360 360 0 198.84 161.22 360 360 360s360-161.16 360-360c0-198.78-161.22-360-360-360zm0 660V212c165.72 0 300 134.34 300 300 0 165.72-134.28 300-300 300z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon dark-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="dark icon" style="display:none;"><path d="M524.8 938.667h-4.267a439.893 439.893 0 0 1-313.173-134.4 446.293 446.293 0 0 1-11.093-597.334A432.213 432.213 0 0 1 366.933 90.027a42.667 42.667 0 0 1 45.227 9.386 42.667 42.667 0 0 1 10.24 42.667 358.4 358.4 0 0 0 82.773 375.893 361.387 361.387 0 0 0 376.747 82.774 42.667 42.667 0 0 1 54.187 55.04 433.493 433.493 0 0 1-99.84 154.88 438.613 438.613 0 0 1-311.467 128z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon light-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="light icon" style="display:none;"><path d="M952 552h-80a40 40 0 0 1 0-80h80a40 40 0 0 1 0 80zM801.88 280.08a41 41 0 0 1-57.96-57.96l57.96-58a41.04 41.04 0 0 1 58 58l-58 57.96zM512 752a240 240 0 1 1 0-480 240 240 0 0 1 0 480zm0-560a40 40 0 0 1-40-40V72a40 40 0 0 1 80 0v80a40 40 0 0 1-40 40zm-289.88 88.08-58-57.96a41.04 41.04 0 0 1 58-58l57.96 58a41 41 0 0 1-57.96 57.96zM192 512a40 40 0 0 1-40 40H72a40 40 0 0 1 0-80h80a40 40 0 0 1 40 40zm30.12 231.92a41 41 0 0 1 57.96 57.96l-57.96 58a41.04 41.04 0 0 1-58-58l58-57.96zM512 832a40 40 0 0 1 40 40v80a40 40 0 0 1-80 0v-80a40 40 0 0 1 40-40zm289.88-88.08 58 57.96a41.04 41.04 0 0 1-58 58l-57.96-58a41 41 0 0 1 57.96-57.96z"></path></svg></button></div><form class="search-box" role="search"><input type="search" placeholder="æœç´¢" autocomplete="off" spellcheck="false" value><!----></form><!--]--><!--[--><!----><!--]--><button type="button" class="vp-toggle-navbar-button" aria-label="Toggle Navbar" aria-expanded="false" aria-controls="nav-screen"><span><span class="vp-top"></span><span class="vp-middle"></span><span class="vp-bottom"></span></span></button></div></header><!----><!--]--><!----><div class="toggle-sidebar-wrapper"><span class="arrow start"></span></div><aside id="sidebar" class="vp-sidebar"><!--[--><!----><!--]--><ul class="vp-sidebar-links"><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">æ•°æ®ç»“æ„ä¸ç®—æ³•</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Java</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable active" type="button"><!----><span class="vp-sidebar-title">MySQL</span><span class="vp-arrow down"></span></button><ul class="vp-sidebar-links"><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/code/mysql/install.html" aria-label="Dockerå®‰è£…MySQL"><!---->Dockerå®‰è£…MySQL<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/code/mysql/data-type.html" aria-label="æ•°æ®ç±»å‹"><!---->æ•°æ®ç±»å‹<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/code/mysql/primary-key-generation-policy.html" aria-label="ä¸»é”®ç”Ÿæˆç­–ç•¥"><!---->ä¸»é”®ç”Ÿæˆç­–ç•¥<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/code/mysql/storage-engine.html" aria-label="å­˜å‚¨å¼•æ“"><!---->å­˜å‚¨å¼•æ“<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/code/mysql/transaction.html" aria-label="äº‹åŠ¡"><!---->äº‹åŠ¡<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/code/mysql/summary.html" aria-label="æ€»ç»“"><!---->æ€»ç»“<!----></a></li><li><a class="route-link nav-link vp-sidebar-link vp-sidebar-page" href="/code/mysql/indexes.html" aria-label="ç´¢å¼•"><!---->ç´¢å¼•<!----></a></li><li><a class="route-link nav-link active vp-sidebar-link vp-sidebar-page active" href="/code/mysql/optimize.html" aria-label="è°ƒä¼˜"><!---->è°ƒä¼˜<!----></a></li></ul></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Spring</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">Redis</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">åˆ†å¸ƒå¼</span><span class="vp-arrow end"></span></button><!----></section></li><li><section class="vp-sidebar-group"><button class="vp-sidebar-header clickable" type="button"><!----><span class="vp-sidebar-title">æ‚è®°</span><span class="vp-arrow end"></span></button><!----></section></li></ul><!--[--><!----><!--]--></aside><!--[--><main id="main-content" class="vp-page"><!--[--><!--[--><!----><!--]--><!----><nav class="vp-breadcrumb disable"></nav><div class="vp-page-title"><h1><!---->è°ƒä¼˜</h1><div class="page-info"><span class="page-author-info" aria-label="ä½œè€…ğŸ–Š" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon author-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="author icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z"></path></svg><span><a class="page-author-item" href="https://du-mozzie.github.io" target="_blank" rel="noopener noreferrer">mozzie</a></span><span property="author" content="mozzie"></span></span><!----><span class="page-date-info" aria-label="å†™ä½œæ—¥æœŸğŸ“…" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="calendar icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 01-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 01-33.473-33.473V143.657H180.6A134.314 134.314 0 0046.66 277.595v535.756A134.314 134.314 0 00180.6 947.289h669.74a134.36 134.36 0 00133.94-133.938V277.595a134.314 134.314 0 00-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 01-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 01-33.472 33.473z"></path></svg><span><!----></span><meta property="datePublished" content="2021-09-16T00:00:00.000Z"></span><!----><span class="page-reading-time-info" aria-label="é˜…è¯»æ—¶é—´âŒ›" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon timer-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="timer icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z"></path></svg><span>å¤§çº¦ 12 åˆ†é’Ÿ</span><meta property="timeRequired" content="PT12M"></span><span class="page-category-info" aria-label="åˆ†ç±»ğŸŒˆ" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon category-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="category icon"><path d="M148.41 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H148.41c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.311-40.31zM147.556 553.478H429.73c22.263 0 40.311 18.048 40.311 40.31v282.176c0 22.263-18.048 40.312-40.31 40.312H147.555c-22.263 0-40.311-18.049-40.311-40.312V593.79c0-22.263 18.048-40.311 40.31-40.311zM593.927 106.992h282.176c22.263 0 40.31 18.048 40.31 40.31V429.48c0 22.263-18.047 40.31-40.31 40.31H593.927c-22.263 0-40.311-18.047-40.311-40.31V147.302c0-22.263 18.048-40.31 40.31-40.31zM730.22 920.502H623.926c-40.925 0-74.22-33.388-74.22-74.425V623.992c0-41.038 33.387-74.424 74.425-74.424h222.085c41.038 0 74.424 33.226 74.424 74.067v114.233c0 10.244-8.304 18.548-18.547 18.548s-18.548-8.304-18.548-18.548V623.635c0-20.388-16.746-36.974-37.33-36.974H624.13c-20.585 0-37.331 16.747-37.331 37.33v222.086c0 20.585 16.654 37.331 37.126 37.331H730.22c10.243 0 18.547 8.304 18.547 18.547 0 10.244-8.304 18.547-18.547 18.547z"></path></svg><!--[--><span class="page-category-item category6 clickable" role="navigation">MySQL</span><!--]--><meta property="articleSection" content="MySQL"></span><span class="page-tag-info" aria-label="æ ‡ç­¾ğŸ·" data-balloon-pos="up"><svg xmlns="http://www.w3.org/2000/svg" class="icon tag-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="tag icon"><path d="M939.902 458.563L910.17 144.567c-1.507-16.272-14.465-29.13-30.737-30.737L565.438 84.098h-.402c-3.215 0-5.726 1.005-7.634 2.913l-470.39 470.39a10.004 10.004 0 000 14.164l365.423 365.424c1.909 1.908 4.42 2.913 7.132 2.913s5.223-1.005 7.132-2.913l470.39-470.39c2.01-2.11 3.014-5.023 2.813-8.036zm-240.067-72.121c-35.458 0-64.286-28.828-64.286-64.286s28.828-64.285 64.286-64.285 64.286 28.828 64.286 64.285-28.829 64.286-64.286 64.286z"></path></svg><!--[--><span class="page-tag-item tag6 clickable" role="navigation">MySQL</span><!--]--><meta property="keywords" content="MySQL"></span></div><hr></div><div class="vp-toc-placeholder"><aside id="toc"><!--[--><!----><!--]--><div class="vp-toc-header">æ­¤é¡µå†…å®¹<button type="button" class="print-button" title="æ‰“å°"><svg xmlns="http://www.w3.org/2000/svg" class="icon print-icon" viewBox="0 0 1024 1024" fill="currentColor" aria-label="print icon"><path d="M819.2 364.8h-44.8V128c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v236.8h-44.8C145.067 364.8 96 413.867 96 473.6v192c0 59.733 49.067 108.8 108.8 108.8h44.8V896c0 17.067 14.933 32 32 32h460.8c17.067 0 32-14.933 32-32V774.4h44.8c59.733 0 108.8-49.067 108.8-108.8v-192c0-59.733-49.067-108.8-108.8-108.8zM313.6 160h396.8v204.8H313.6V160zm396.8 704H313.6V620.8h396.8V864zM864 665.6c0 25.6-19.2 44.8-44.8 44.8h-44.8V588.8c0-17.067-14.933-32-32-32H281.6c-17.067 0-32 14.933-32 32v121.6h-44.8c-25.6 0-44.8-19.2-44.8-44.8v-192c0-25.6 19.2-44.8 44.8-44.8h614.4c25.6 0 44.8 19.2 44.8 44.8v192z"></path></svg></button><div class="arrow end"></div></div><div class="vp-toc-wrapper"><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#explain">EXPLAIN</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#ä»€ä¹ˆæ˜¯explain">ä»€ä¹ˆæ˜¯explain</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#explainèƒ½å¤Ÿå¹²ä»€ä¹ˆ">explainèƒ½å¤Ÿå¹²ä»€ä¹ˆ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#åˆ›å»ºä¸€ä¸ªå­¦ä¹ ç”¨çš„æ•°æ®åº“">åˆ›å»ºä¸€ä¸ªå­¦ä¹ ç”¨çš„æ•°æ®åº“</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level3" href="#å¦‚ä½•ä½¿ç”¨explain">å¦‚ä½•ä½¿ç”¨explain</a></li><li><ul class="vp-toc-list"><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#explainå„ä¸ªå­—æ®µä»£è¡¨çš„æ„æ€">explainå„ä¸ªå­—æ®µä»£è¡¨çš„æ„æ€</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#idä¸tableå­—æ®µ">idä¸tableå­—æ®µ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#select-typeå­—æ®µ">select_typeå­—æ®µ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#partitionså­—æ®µ">partitionså­—æ®µ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#typeå­—æ®µ">typeå­—æ®µ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#possible-keyså­—æ®µ">possible_keyså­—æ®µ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#keyå­—æ®µ">keyå­—æ®µ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#refå­—æ®µ">refå­—æ®µ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#rowså­—æ®µå’Œfilterå­—æ®µ">rowså­—æ®µå’ŒFilterå­—æ®µ</a></li><!----><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level4" href="#extraå­—æ®µ">Extraå­—æ®µ</a></li><!----><!--]--></ul></li><!--]--></ul></li><!--]--><!--[--><li class="vp-toc-item"><a class="route-link vp-toc-link level2" href="#mysqlæ•°æ®åº“cpué£™å‡å¦‚ä½•å®šä½åˆ†æ">MySQLæ•°æ®åº“CPUé£™å‡å¦‚ä½•å®šä½åˆ†æ</a></li><!----><!--]--></ul><div class="vp-toc-marker" style="top:-1.7rem;"></div></div><!--[--><!----><!--]--></aside></div><!--[--><!----><!--]--><div class="theme-hope-content"><p>MySQLçš„ä¸€äº›è°ƒä¼˜ç»éªŒ</p><h2 id="explain" tabindex="-1"><a class="header-anchor" href="#explain"><span>EXPLAIN</span></a></h2><h3 id="ä»€ä¹ˆæ˜¯explain" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯explain"><span>ä»€ä¹ˆæ˜¯explain</span></a></h3><p>ä½¿ç”¨explainå¯ä»¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡ŒSQLæŸ¥è¯¢è¯­å¥ï¼Œä»è€ŒçŸ¥é“MySQLæ€ä¹ˆå¤„ç†ä½ çš„SQLè¯­å¥çš„ï¼Œåˆ†æä½ çš„æŸ¥è¯¢è¯­å¥å’Œè¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆã€‚</p><h3 id="explainèƒ½å¤Ÿå¹²ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#explainèƒ½å¤Ÿå¹²ä»€ä¹ˆ"><span>explainèƒ½å¤Ÿå¹²ä»€ä¹ˆ</span></a></h3><ul><li>è¯»å–è¡¨çš„é¡ºåº</li><li>å“ªäº›ç´¢å¼•èƒ½å¤Ÿè¢«ä½¿ç”¨</li><li>æ•°æ®è¯»å–æ“ä½œçš„æ“ä½œç±»å‹</li><li>å“ªäº›ç´¢å¼•èƒ½å¤Ÿè¢«å®é™…ä½¿ç”¨</li><li>è¡¨ä¹‹é—´çš„å¼•ç”¨</li><li>æ¯å¼ è¡¨æœ‰å¤šå°‘è¡Œè¢«ç‰©ç†æŸ¥è¯¢</li></ul><h3 id="åˆ›å»ºä¸€ä¸ªå­¦ä¹ ç”¨çš„æ•°æ®åº“" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºä¸€ä¸ªå­¦ä¹ ç”¨çš„æ•°æ®åº“"><span>åˆ›å»ºä¸€ä¸ªå­¦ä¹ ç”¨çš„æ•°æ®åº“</span></a></h3><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> <span class="token comment">/*!32312 IF NOT EXISTS*/</span><span class="token identifier"><span class="token punctuation">`</span>mydb<span class="token punctuation">`</span></span> <span class="token comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span><span class="token punctuation">;</span>

<span class="token keyword">USE</span> <span class="token identifier"><span class="token punctuation">`</span>mydb<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token comment">/*Table structure for table `course` */</span>

<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>course<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>course<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">21</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token comment">/*Data for the table `course` */</span>

<span class="token keyword">insert</span>  <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>course<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> 
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;è¯­æ–‡&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;é«˜ç­‰æ•°å­¦&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&#39;è§†å¬è¯´&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&#39;ä½“è‚²&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&#39;é©¬å…‹æ€æ¦‚å†µ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">&#39;æ°‘æ—ç†è®º&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">&#39;æ¯›ä¸­ç‰¹&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token string">&#39;è®¡ç®—æœºåŸºç¡€&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token string">&#39;æ·±åº¦å­¦ä¹ &#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&#39;Javaç¨‹åºè®¾è®¡&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token string">&#39;cè¯­è¨€ç¨‹åºè®¾è®¡&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token string">&#39;æ“ä½œç³»ç»Ÿ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token string">&#39;è®¡ç®—æœºç½‘ç»œ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token string">&#39;è®¡ç®—æœºç»„æˆåŸç†&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">&#39;æ•°æ®ç»“æ„&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token string">&#39;æ•°æ®åˆ†æ&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token string">&#39;å¤§å­¦ç‰©ç†&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">&#39;æ•°å­—é€»è¾‘&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">&#39;åµŒå…¥å¼å¼€å‘&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&#39;éœ€æ±‚å·¥ç¨‹&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*Table structure for table `stu_course` */</span>

<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>stu_course<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>stu_course<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>sid<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>cid<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>sid<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>cid<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token comment">/*Data for the table `stu_course` */</span>

<span class="token keyword">insert</span>  <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>stu_course<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>sid<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>cid<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> 
<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/*Table structure for table `student` */</span>

<span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> <span class="token keyword">IF</span> <span class="token keyword">EXISTS</span> <span class="token identifier"><span class="token punctuation">`</span>student<span class="token punctuation">`</span></span><span class="token punctuation">;</span>

<span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>student<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>name_age<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">KEY</span> <span class="token identifier"><span class="token punctuation">`</span>id_name_age<span class="token punctuation">`</span></span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">31</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8<span class="token punctuation">;</span>

<span class="token comment">/*Data for the table `student` */</span>

<span class="token keyword">insert</span>  <span class="token keyword">into</span> <span class="token identifier"><span class="token punctuation">`</span>student<span class="token punctuation">`</span></span><span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span><span class="token punctuation">,</span><span class="token identifier"><span class="token punctuation">`</span>age<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">values</span> 
<span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token string">&#39;ä¹¾éš†&#39;</span><span class="token punctuation">,</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span><span class="token string">&#39;å…³ç¾½&#39;</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">,</span><span class="token string">&#39;åˆ˜å¤‡&#39;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token string">&#39;åˆ˜æ°¸&#39;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">21</span><span class="token punctuation">,</span><span class="token string">&#39;åè£”&#39;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token string">&#39;å•å­ä¹”&#39;</span><span class="token punctuation">,</span><span class="token number">28</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">&#39;å¬´æ”¿&#39;</span><span class="token punctuation">,</span><span class="token number">76</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">22</span><span class="token punctuation">,</span><span class="token string">&#39;å­™æ‚Ÿç©º&#39;</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">&#39;å®‰å…¶æ‹‰&#39;</span><span class="token punctuation">,</span><span class="token number">24</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">&#39;å®‹æ±Ÿ&#39;</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">26</span><span class="token punctuation">,</span><span class="token string">&#39;åº·ç†™&#39;</span><span class="token punctuation">,</span><span class="token number">51</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">29</span><span class="token punctuation">,</span><span class="token string">&#39;å¼ ä¼Ÿ&#39;</span><span class="token punctuation">,</span><span class="token number">26</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&#39;å¼ éƒƒ&#39;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token string">&#39;å¼ é£&#39;</span><span class="token punctuation">,</span><span class="token number">32</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">27</span><span class="token punctuation">,</span><span class="token string">&#39;æœ±å…ƒç’‹&#39;</span><span class="token punctuation">,</span><span class="token number">19</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token string">&#39;æä¸–æ°‘&#39;</span><span class="token punctuation">,</span><span class="token number">54</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token string">&#39;æé€µ&#39;</span><span class="token punctuation">,</span><span class="token number">12</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token string">&#39;æ—å†²&#39;</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">&#39;æ©˜å³äº¬&#39;</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">,</span><span class="token string">&#39;æ²™å’Œå°š&#39;</span><span class="token punctuation">,</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">23</span><span class="token punctuation">,</span><span class="token string">&#39;çŒªå…«æˆ’&#39;</span><span class="token punctuation">,</span><span class="token number">22</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">,</span><span class="token string">&#39;ç‹ä¸&#39;</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">19</span><span class="token punctuation">,</span><span class="token string">&#39;ç‹å»º&#39;</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">&#39;ç‹è½&#39;</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span><span class="token string">&#39;ç§¦å”å®&#39;</span><span class="token punctuation">,</span><span class="token number">43</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span><span class="token string">&#39;ç¨‹å’¬é‡‘&#39;</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&#39;è†è½²&#39;</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">&#39;è¯¸è‘›äº®&#39;</span><span class="token punctuation">,</span><span class="token number">71</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">&#39;é’Ÿé¦—&#39;</span><span class="token punctuation">,</span><span class="token number">23</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">&#39;é²ç­&#39;</span><span class="token punctuation">,</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªæ•°æ®åº“å®é™…ä¸Šçš„ä¸šåŠ¡æ˜¯:å­¦ç”Ÿè¡¨ - é€‰è¯¾è¡¨ - è¯¾ç¨‹è¡¨</p><h3 id="å¦‚ä½•ä½¿ç”¨explain" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•ä½¿ç”¨explain"><span>å¦‚ä½•ä½¿ç”¨explain</span></a></h3><p>ä½¿ç”¨è€Œ<code>explain</code>å¾ˆç®€å•å°±æ˜¯ï¼Œåœ¨ä½ ä¹¦å†™çš„SQLè¯­å¥åŠ ä¸€ä¸ªå•è¯ - <code>explain</code>ï¼Œç„¶åå°† <code>explain </code>+ SQLæ‰§è¡Œåä¼šå‡ºç°ä¸€ä¸ªè¡¨ï¼Œè¿™ä¸ªè¡¨ä¼šå‘Šè¯‰ä½ MySQLä¼˜åŒ–å™¨æ˜¯æ€æ ·æ‰§è¡Œä½ çš„SQLçš„ã€‚</p><p>å°±æ¯”å¦‚æ‰§è¡Œä¸‹é¢ä¸€å¥è¯­å¥ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>MySQLä¼šç»™ä½ åé¦ˆä¸‹é¢ä¸€ä¸ªä¿¡æ¯ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>    id  select_type  <span class="token keyword">table</span>    partitions  <span class="token keyword">type</span>    possible_keys  <span class="token keyword">key</span>       key_len  ref       <span class="token keyword">rows</span>  filtered  Extra        
<span class="token comment">------  -----------  -------  ----------  ------  -------------  --------  -------  ------  ------  --------  -------------</span>
     <span class="token number">1</span>  <span class="token keyword">SIMPLE</span>       student  <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      <span class="token keyword">index</span>   <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>         name_age  <span class="token number">68</span>       <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      <span class="token number">30</span>    <span class="token number">100.00</span>  <span class="token keyword">Using</span> <span class="token keyword">index</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å…·ä½“è¿™äº›ä¿¡æ¯æ˜¯å¹²ä»€ä¹ˆçš„ï¼Œä¼šå¯¹ä½ æœ‰ä»€ä¹ˆå¸®åŠ©ï¼Œä¼šåœ¨ä¸‹é¢å‘Šè¯‰ä½ ã€‚</p><h4 id="explainå„ä¸ªå­—æ®µä»£è¡¨çš„æ„æ€" tabindex="-1"><a class="header-anchor" href="#explainå„ä¸ªå­—æ®µä»£è¡¨çš„æ„æ€"><span>explainå„ä¸ªå­—æ®µä»£è¡¨çš„æ„æ€</span></a></h4><ul><li>id ï¼šselectæŸ¥è¯¢çš„åºåˆ—å·ï¼ŒåŒ…å«ä¸€ç»„æ•°å­—ï¼Œè¡¨ç¤ºæŸ¥è¯¢ä¸­æ‰§è¡Œselectå­å¥æˆ–æ“ä½œè¡¨çš„é¡ºåº</li><li>select_type ï¼šæŸ¥è¯¢ç±»å‹ æˆ–è€…æ˜¯ å…¶ä»–æ“ä½œç±»å‹</li><li>table ï¼šæ­£åœ¨è®¿é—®å“ªä¸ªè¡¨</li><li>partitions ï¼šåŒ¹é…çš„åˆ†åŒº</li><li>type ï¼šè®¿é—®çš„ç±»å‹</li><li>possible_keys ï¼šæ˜¾ç¤ºå¯èƒ½åº”ç”¨åœ¨è¿™å¼ è¡¨ä¸­çš„ç´¢å¼•ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªï¼Œä½†ä¸ä¸€å®šå®é™…ä½¿ç”¨åˆ°</li><li>key ï¼šå®é™…ä½¿ç”¨åˆ°çš„ç´¢å¼•ï¼Œå¦‚æœä¸ºNULLï¼Œåˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•</li><li>key_len ï¼šè¡¨ç¤ºç´¢å¼•ä¸­ä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œå¯é€šè¿‡è¯¥åˆ—è®¡ç®—æŸ¥è¯¢ä¸­ä½¿ç”¨çš„ç´¢å¼•çš„é•¿åº¦</li><li>ref ï¼šæ˜¾ç¤ºç´¢å¼•çš„å“ªä¸€åˆ—è¢«ä½¿ç”¨äº†ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œæ˜¯ä¸€ä¸ªå¸¸æ•°ï¼Œå“ªäº›åˆ—æˆ–å¸¸é‡è¢«ç”¨äºæŸ¥æ‰¾ç´¢å¼•åˆ—ä¸Šçš„å€¼</li><li>rows ï¼šæ ¹æ®è¡¨ç»Ÿè®¡ä¿¡æ¯åŠç´¢å¼•é€‰ç”¨æƒ…å†µï¼Œå¤§è‡´ä¼°ç®—å‡ºæ‰¾åˆ°æ‰€éœ€çš„è®°å½•æ‰€éœ€è¯»å–çš„è¡Œæ•°</li><li>filtered ï¼šæŸ¥è¯¢çš„è¡¨è¡Œå è¡¨çš„ç™¾åˆ†æ¯”</li><li>Extra ï¼šåŒ…å«ä¸é€‚åˆåœ¨å…¶å®ƒåˆ—ä¸­æ˜¾ç¤ºä½†ååˆ†é‡è¦çš„é¢å¤–ä¿¡æ¯</li></ul><p>ä¸Šé¢ä»‹ç»äº†æ¯ä¸ªå­—æ®µçš„æ„æ€ï¼Œå¯ä»¥å¤§ä½“çœ‹ä¸€ä¸‹ï¼Œä¸‹é¢ä¼šé€ä¸€ä»‹ç»æ¯ä¸ªå­—æ®µè¡¨ç¤ºçš„å•¥ï¼Ÿè¯¥å…³æ³¨ä»€ä¹ˆï¼Ÿ</p><h4 id="idä¸tableå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#idä¸tableå­—æ®µ"><span>idä¸tableå­—æ®µ</span></a></h4><p>ä¸ºä»€ä¹ˆè¦å°†<code>id</code>å’Œ<code>table</code>æ”¾åœ¨ä¸€èµ·è®²å‘¢ï¼Ÿå› ä¸ºé€šè¿‡è¿™ä¸¤ä¸ªå­—æ®µå¯ä»¥<strong>å®Œå…¨</strong>åˆ¤æ–­å‡ºä½ çš„æ¯ä¸€æ¡SQLè¯­å¥çš„æ‰§è¡Œé¡ºåºå’Œè¡¨çš„æŸ¥è¯¢é¡ºåºã€‚</p><p>å…ˆçœ‹<code>id</code>åçœ‹<code>table</code>ï¼Œ<code>id</code>å’Œ<code>table</code>åœ¨SQLæ‰§è¡Œåˆ¤æ–­è¿‡ç¨‹ä¸­çš„å…³ç³»å°±åƒæ˜¯è¶³çƒè”èµ›çš„ç§¯åˆ†æ¦œï¼Œé¦–å…ˆä¸€ä¸ªè”èµ›çš„çƒé˜Ÿæ’ååº”è¯¥å…ˆçœ‹ç§¯åˆ†ï¼Œç§¯åˆ†è¶Šé«˜çš„çƒé˜Ÿæ’åè¶Šé å‰ï¼Œå½“ä¸¤æ”¯æˆ–å¤šåªçƒé˜Ÿçš„ç§¯åˆ†ä¸€æ ·é«˜æ€ä¹ˆåŠå‘¢ï¼Ÿé‚£æˆ‘ä»¬å°±çœ‹å‡€èƒœçƒï¼Œå‡€èƒœçƒè¶Šå¤šçš„çƒé˜Ÿï¼Œæ’åœ¨å‰é¢ã€‚è€Œåœ¨<code>explain</code>ä¸­ä½ å¯ä»¥æŠŠidçœ‹ä½œæ˜¯çƒé˜Ÿç§¯åˆ†ï¼Œ<code>table</code>å½“ä½œæ˜¯å‡€èƒœçƒã€‚</p><p>æ¯”å¦‚è¯´æˆ‘ä»¬<code>explain</code>ä¸€ä¸‹è¿™ä¸€æ¡SQLï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span>
<span class="token keyword">SELECT</span> 
    S<span class="token punctuation">.</span>id<span class="token punctuation">,</span>S<span class="token punctuation">.</span>name<span class="token punctuation">,</span>S<span class="token punctuation">.</span>age<span class="token punctuation">,</span>C<span class="token punctuation">.</span>id<span class="token punctuation">,</span>C<span class="token punctuation">.</span>name
<span class="token keyword">FROM</span> course C <span class="token keyword">JOIN</span> stu_course SC <span class="token keyword">ON</span> C<span class="token punctuation">.</span>id <span class="token operator">=</span> SC<span class="token punctuation">.</span>cid
<span class="token keyword">JOIN</span> student S <span class="token keyword">ON</span> S<span class="token punctuation">.</span>id <span class="token operator">=</span> SC<span class="token punctuation">.</span>sid
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“æœæ˜¯è¿™æ ·ï¼š</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>    id  select_type  <span class="token keyword">table</span>   partitions  <span class="token keyword">type</span>    possible_keys        <span class="token keyword">key</span>      key_len  ref      
<span class="token comment">------  -----------  ------  ----------  ------  -------------------  -------  -------  ----------- </span>
     <span class="token number">1</span>  <span class="token keyword">SIMPLE</span>       SC      <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      <span class="token keyword">index</span>   <span class="token keyword">PRIMARY</span>              <span class="token keyword">PRIMARY</span>  <span class="token number">8</span>        <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>     
     <span class="token number">1</span>  <span class="token keyword">SIMPLE</span>       C       <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      eq_ref  <span class="token keyword">PRIMARY</span>              <span class="token keyword">PRIMARY</span>  <span class="token number">4</span>        mydb<span class="token punctuation">.</span>SC<span class="token punctuation">.</span>cid 
     <span class="token number">1</span>  <span class="token keyword">SIMPLE</span>       S       <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      eq_ref  <span class="token keyword">PRIMARY</span><span class="token punctuation">,</span>id_name_age  <span class="token keyword">PRIMARY</span>  <span class="token number">4</span>        mydb<span class="token punctuation">.</span>SC<span class="token punctuation">.</span>sid 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ‘ä»¬çœ‹åˆ°<code>id</code>å…¨æ˜¯1ï¼Œé‚£å°±è¯´æ˜å…‰çœ‹idè¿™ä¸ªå€¼æ˜¯çœ‹ä¸å‡ºæ¥æ¯ä¸ªè¡¨çš„è¯»å–é¡ºåºçš„ï¼Œé‚£æˆ‘ä»¬å°±æ¥çœ‹<code>table</code>è¿™ä¸€è¡Œï¼Œå®ƒçš„è¯»å–é¡ºåºæ˜¯<strong>è‡ªä¸Šå‘ä¸‹</strong>çš„ï¼Œæ‰€ä»¥ï¼Œè¿™ä¸‰ä¸ªè¡¨çš„è¯»å–é¡ºåºåº”å½“æ˜¯ï¼šSC - C - Sã€‚</p><p>å†æ¥çœ‹ä¸€æ¡SQL</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> 
<span class="token keyword">FROM</span> course <span class="token keyword">AS</span> C 
<span class="token keyword">WHERE</span> C<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> SC<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>cid<span class="token punctuation">`</span></span> 
    <span class="token keyword">FROM</span> stu_course <span class="token keyword">AS</span> SC 
    <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>sid<span class="token punctuation">`</span></span> <span class="token operator">=</span> 
    <span class="token punctuation">(</span>
        <span class="token keyword">SELECT</span> 
            S<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> 
        <span class="token keyword">FROM</span> student <span class="token keyword">AS</span> S
        <span class="token keyword">WHERE</span>  S<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">&quot;å®‰å…¶æ‹‰&quot;</span>
    <span class="token punctuation">)</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> SC<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>cid<span class="token punctuation">`</span></span> <span class="token keyword">LIMIT</span> <span class="token number">1</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ¡è¯­å¥æ˜¯æŸ¥è¯¢ç»“æœæ˜¯ï¼šä¸€ä¸ªå«å®‰å…¶æ‹‰çš„å­¦ç”Ÿé€‰çš„è¯¾é‡Œé¢ï¼Œè¯¾ç¨‹<code>id</code>æœ€å°çš„ä¸€é—¨è¯¾çš„ä¿¡æ¯ï¼Œç„¶åæ¥çœ‹ä¸€ä¸‹<code>explain</code>çš„ç»“æœå§ï¼</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>    id  select_type  <span class="token keyword">table</span>   partitions  <span class="token keyword">type</span>    possible_keys  <span class="token keyword">key</span>      key_len  ref    
<span class="token comment">------  -----------  ------  ----------  ------  -------------  -------  -------  ------  </span>
     <span class="token number">1</span>  <span class="token keyword">PRIMARY</span>      C       <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      const   <span class="token keyword">PRIMARY</span>        <span class="token keyword">PRIMARY</span>  <span class="token number">4</span>        const   
     <span class="token number">2</span>  SUBQUERY     SC      <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      ref     <span class="token keyword">PRIMARY</span>        <span class="token keyword">PRIMARY</span>  <span class="token number">4</span>        const  
     <span class="token number">3</span>  SUBQUERY     S       <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      ref     name<span class="token punctuation">,</span>name_age  name     <span class="token number">63</span>       const 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶æˆ‘ä»¬å‘ç°idæ˜¯ä¸ç›¸åŒçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¾ˆå®¹æ˜“å°±çœ‹å‡ºè¡¨è¯»å–çš„é¡ºåºäº†æ˜¯å§ï¼C - SC - S</p><p>æ³¨æ„ï¼ï¼ï¼ï¼ï¼ï¼ä½ ä»”ç»†çœ‹ä¸€ä¸‹æœ€é‡Œé¢çš„å­æŸ¥è¯¢æ˜¯æŸ¥è¯¢çš„å“ªä¸ªè¡¨ï¼Œæ˜¯Sè¿™å¼ è¡¨ï¼Œç„¶åå¤–é¢ä¸€å±‚å‘¢ï¼Ÿæ˜¯SCè¿™å¼ è¡¨ï¼Œæœ€å¤–é¢è¿™ä¸€å±‚å‘¢ï¼Ÿæ˜¯Cè¿™å¼ è¡¨ï¼Œæ‰€ä»¥æ‰§è¡Œé¡ºåºåº”è¯¥æ˜¯å•¥å‘¢ï¼Ÿæ˜¯....æ˜¯.....éš¾é“æ˜¯S - SC - Cå—ï¼Ÿæ˜¯<code>id</code>è¶Šå¤§çš„<code>table</code>è¯»å–è¶Šåœ¨å‰é¢å—ï¼Ÿæ˜¯çš„ï¼è¿™å°±åƒåˆšæ‰è¯´çš„è¶³çƒè”èµ›ç§¯åˆ†ï¼Œåˆ†æ•°è¶Šé«˜çš„çƒé˜Ÿçš„æ’åºè¶Šé å‰ã€‚</p><p>å½“ç„¶è¿˜æœ‰ä¸‹é¢è¿™ç§æƒ…å†µ</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> 
<span class="token keyword">FROM</span> course <span class="token keyword">AS</span> C 
<span class="token keyword">WHERE</span> C<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token operator">IN</span> <span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> SC<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>cid<span class="token punctuation">`</span></span> 
    <span class="token keyword">FROM</span> stu_course <span class="token keyword">AS</span> SC 
    <span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>sid<span class="token punctuation">`</span></span> <span class="token operator">=</span> 
    <span class="token punctuation">(</span>
        <span class="token keyword">SELECT</span> 
            S<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> 
        <span class="token keyword">FROM</span> student <span class="token keyword">AS</span> S
        <span class="token keyword">WHERE</span>  S<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">&quot;å®‰å…¶æ‹‰&quot;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™ä¸ªæŸ¥è¯¢æ˜¯ï¼šæŸ¥è¯¢å®‰å…¶æ‹‰é€‰è¯¾çš„è¯¾ç¨‹ä¿¡æ¯</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>    id  select_type  <span class="token keyword">table</span>   partitions  <span class="token keyword">type</span>    possible_keys  <span class="token keyword">key</span>      key_len  ref           
<span class="token comment">------  -----------  ------  ----------  ------  -------------  -------  -------  ----------- </span>
     <span class="token number">1</span>  <span class="token keyword">PRIMARY</span>      SC      <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      ref     <span class="token keyword">PRIMARY</span>        <span class="token keyword">PRIMARY</span>  <span class="token number">4</span>        const       
     <span class="token number">1</span>  <span class="token keyword">PRIMARY</span>      C       <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      eq_ref  <span class="token keyword">PRIMARY</span>        <span class="token keyword">PRIMARY</span>  <span class="token number">4</span>        mydb<span class="token punctuation">.</span>SC<span class="token punctuation">.</span>cid 
     <span class="token number">3</span>  SUBQUERY     S       <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      ref     name<span class="token punctuation">,</span>name_age  name     <span class="token number">63</span>       const        
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç»“æœå¾ˆæ˜ç¡®ï¼šå…ˆçœ‹<code>id</code>åº”è¯¥æ˜¯Sè¡¨æœ€å…ˆè¢«è¯»å–ï¼ŒSCå’ŒCè¡¨<code>id</code>ç›¸åŒï¼Œç„¶åtableä¸­SCæ›´é ä¸Šï¼Œæ‰€ä»¥ç¬¬äºŒå¼ è¯»å–çš„è¡¨åº”å½“æ˜¯SCï¼Œæœ€åè¯»å–Cã€‚</p><h4 id="select-typeå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#select-typeå­—æ®µ"><span>select_typeå­—æ®µ</span></a></h4><ul><li><p><code>SIMPLE</code> ç®€å•æŸ¥è¯¢ï¼Œä¸åŒ…æ‹¬å­æŸ¥è¯¢å’Œ<code>union</code>æŸ¥è¯¢</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span> 
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">JOIN</span> stu_course <span class="token keyword">ON</span> student<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token operator">=</span> sid
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>    id  select_type  <span class="token keyword">table</span>       partitions  <span class="token keyword">type</span>    possible_keys        <span class="token keyword">key</span>      
<span class="token comment">------  -----------  ----------  ----------  ------  -------------------  --------  </span>
     <span class="token number">1</span>  <span class="token keyword">SIMPLE</span>       student     <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      <span class="token keyword">index</span>   <span class="token keyword">PRIMARY</span><span class="token punctuation">,</span>id_name_age  name_age  
     <span class="token number">1</span>  <span class="token keyword">SIMPLE</span>       stu_course  <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      ref     <span class="token keyword">PRIMARY</span>              <span class="token keyword">PRIMARY</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>PRIMARY</code> å½“å­˜åœ¨å­æŸ¥è¯¢æ—¶ï¼Œæœ€å¤–é¢çš„æŸ¥è¯¢è¢«æ ‡è®°ä¸ºä¸»æŸ¥è¯¢</p></li><li><p><code>SUBQUERY</code> å­æŸ¥è¯¢</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span>
<span class="token keyword">SELECT</span> SC<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>cid<span class="token punctuation">`</span></span> 
<span class="token keyword">FROM</span> stu_course <span class="token keyword">AS</span> SC 
<span class="token keyword">WHERE</span> SC<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>sid<span class="token punctuation">`</span></span> <span class="token operator">=</span> 
<span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> 
        S<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> 
    <span class="token keyword">FROM</span> student <span class="token keyword">AS</span> S
    <span class="token keyword">WHERE</span>  S<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token operator">=</span> <span class="token string">&quot;å®‰å…¶æ‹‰&quot;</span>
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>    id  select_type  <span class="token keyword">table</span>   partitions  <span class="token keyword">type</span>    possible_keys  <span class="token keyword">key</span>      key_len  ref      
<span class="token comment">------  -----------  ------  ----------  ------  -------------  -------  -------  ------ </span>
     <span class="token number">1</span>  <span class="token keyword">PRIMARY</span>      SC      <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      ref     <span class="token keyword">PRIMARY</span>        <span class="token keyword">PRIMARY</span>  <span class="token number">4</span>        const  
     <span class="token number">2</span>  SUBQUERY     S       <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      ref     name<span class="token punctuation">,</span>name_age  name     <span class="token number">63</span>       const   
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>UNION</code> å½“ä¸€ä¸ªæŸ¥è¯¢åœ¨<code>UNION</code>å…³é”®å­—ä¹‹åå°±ä¼šå‡ºç°<code>UNION</code></p></li><li><p><code>UNION RESULT</code> è¿æ¥å‡ ä¸ªè¡¨æŸ¥è¯¢åçš„ç»“æœ</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> student <span class="token keyword">WHERE</span> id <span class="token operator">=</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>    id  select_type   <span class="token keyword">table</span>       partitions  <span class="token keyword">type</span>    possible_keys        <span class="token keyword">key</span>      
<span class="token comment">------  ------------  ----------  ----------  ------  -------------------  ------- </span>
     <span class="token number">1</span>  <span class="token keyword">PRIMARY</span>       student     <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      const   <span class="token keyword">PRIMARY</span><span class="token punctuation">,</span>id_name_age  <span class="token keyword">PRIMARY</span>  
     <span class="token number">2</span>  <span class="token keyword">UNION</span>         student     <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      const   <span class="token keyword">PRIMARY</span><span class="token punctuation">,</span>id_name_age  <span class="token keyword">PRIMARY</span> 
<span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>  <span class="token keyword">UNION</span> RESULT  <span class="token operator">&lt;</span>union1<span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">&gt;</span>  <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      <span class="token keyword">ALL</span>     <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>               <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>   
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢å¯ä»¥çœ‹åˆ°ç¬¬ä¸‰è¡Œ<code>table</code>çš„å€¼æ˜¯<code>&lt;union1,2&gt;</code></p></li><li><p><code>DERIVED</code> åœ¨<code>FROM</code>åˆ—è¡¨ä¸­åŒ…å«çš„å­æŸ¥è¯¢è¢«æ ‡è®°ä¸º<code>DERIVED</code>ï¼ˆè¡ç”Ÿï¼‰ï¼ŒMySQL ä¼šé€’å½’æ‰§è¡Œè¿™äº›å­æŸ¥è¯¢ï¼ŒæŠŠç»“æœæ”¾åœ¨ä¸´æ—¶è¡¨ä¸­ MySQL5.7+ è¿›è¡Œä¼˜åŒ–äº†ï¼Œå¢åŠ äº†derived_mergeï¼ˆæ´¾ç”Ÿåˆå¹¶ï¼‰ï¼Œé»˜è®¤å¼€å¯ï¼Œå¯åŠ å¿«æŸ¥è¯¢æ•ˆç‡</p><p><a href="https://link.segmentfault.com/?enc=BUIwTMLAzdCLhncnm%2FbHKw%3D%3D.VHX0ajSNf7%2B9zwXLpooXXMM3Pr%2BXu67yj2SIr2P9ENxNiyzP9Ig%2B4k7NJ5aqO9JQAI0nK9P5yoxcSyOE15b6yA%3D%3D" target="_blank" rel="noopener noreferrer">å¦‚æœä½ æƒ³äº†è§£æ›´è¯¦ç»†çš„æ´¾ç”Ÿåˆå¹¶è¯·ç‚¹å‡»è¿™é‡Œ<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><p>å½“ä½ çš„MySQLæ˜¯5.7åŠä»¥ä¸Šç‰ˆæœ¬æ—¶ä½ è¦å°†derived_mergeå…³é—­åæ‰èƒ½çœ‹åˆ°<code>DERIVED</code> çŠ¶æ€</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">set</span> <span class="token keyword">session</span> optimizer_switch<span class="token operator">=</span><span class="token string">&#39;derived_merge=off&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">set</span> <span class="token keyword">global</span> optimizer_switch<span class="token operator">=</span><span class="token string">&#39;derived_merge=off&#39;</span><span class="token punctuation">;</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> 
<span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> <span class="token operator">*</span> 
    <span class="token keyword">FROM</span> student <span class="token keyword">AS</span> S <span class="token keyword">JOIN</span> stu_course <span class="token keyword">AS</span> SC 
    <span class="token keyword">ON</span> S<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token operator">=</span> SC<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>sid<span class="token punctuation">`</span></span>
<span class="token punctuation">)</span> <span class="token keyword">AS</span> SSC
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code>    id  select_type  <span class="token keyword">table</span>       partitions  <span class="token keyword">type</span>    possible_keys        <span class="token keyword">key</span>       
<span class="token comment">------  -----------  ----------  ----------  ------  -------------------  -------- </span>
     <span class="token number">1</span>  <span class="token keyword">PRIMARY</span>      \<span class="token operator">&lt;</span>derived2\<span class="token operator">&gt;</span>  <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      <span class="token keyword">ALL</span>     <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>               <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>    
     <span class="token number">2</span>  DERIVED      S           <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      <span class="token keyword">index</span>   <span class="token keyword">PRIMARY</span><span class="token punctuation">,</span>id_name_age  name_age 
     <span class="token number">2</span>  DERIVED      SC          <span class="token punctuation">(</span><span class="token boolean">NULL</span><span class="token punctuation">)</span>      ref     <span class="token keyword">PRIMARY</span>              <span class="token keyword">PRIMARY</span>  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢æˆ‘ä»¬è§‚å¯Ÿï¼Œæœ€å¤–å±‚çš„ä¸»æŸ¥è¯¢çš„è¡¨æ˜¯&lt;derived2&gt;,è€ŒSå’ŒSCè¡¨çš„<code>select_type</code>éƒ½æ˜¯<code>DERIVED</code>,è¿™è¯´æ˜Så’ŒSCéƒ½è¢«ç”¨æ¥åšè¡ç”ŸæŸ¥è¯¢ï¼Œè€Œè¿™ä¸¤å¼ è¡¨æŸ¥è¯¢çš„ç»“æœç»„æˆäº†åä¸º&lt;derived2&gt;çš„è¡ç”Ÿè¡¨ï¼Œè€Œè¡ç”Ÿè¡¨çš„å‘½åå°±æ˜¯<code>&lt;select_type + id&gt;</code>ã€‚</p></li></ul><h4 id="partitionså­—æ®µ" tabindex="-1"><a class="header-anchor" href="#partitionså­—æ®µ"><span>partitionså­—æ®µ</span></a></h4><p>è¯¥åˆ—æ˜¾ç¤ºçš„ä¸ºåˆ†åŒºè¡¨å‘½ä¸­çš„åˆ†åŒºæƒ…å†µã€‚éåˆ†åŒºè¡¨è¯¥å­—æ®µä¸ºç©ºï¼ˆnullï¼‰ã€‚</p><h4 id="typeå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#typeå­—æ®µ"><span>typeå­—æ®µ</span></a></h4><p>typeæ‰€æ˜¾ç¤ºçš„æ˜¯æŸ¥è¯¢ä½¿ç”¨äº†å“ªç§ç±»å‹ï¼Œæ‰€æœ‰typeæŒ‰ç…§ä»å¥½åˆ°åçš„é¡ºåºæ’åˆ—å¦‚ä¸‹ï¼š</p><div class="language-text line-numbers-mode" data-ext="text" data-title="text"><pre class="language-text"><code>system &gt; const &gt; eq_ref &gt; ref &gt; range &gt; index &gt; all
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li><p>systemï¼šè¡¨åªæœ‰ä¸€è¡Œè®°å½•ï¼ˆç­‰äºç³»ç»Ÿè¡¨ï¼‰ï¼Œè¿™æ˜¯constç±»å‹çš„ç‰¹åˆ—ï¼Œå¹³æ—¶ä¸ä¼šå‡ºç°ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥å¿½ç•¥ä¸è®¡ï¼›</p></li><li><p>constï¼šè¡¨ç¤ºé€šè¿‡ç´¢å¼•ä¸€æ¬¡å°±æ‰¾åˆ°äº†ï¼Œconstç”¨äºprimary keyæˆ–è€…uniqueç´¢å¼•ã€‚å› ä¸ºåªåŒ¹é…ä¸€è¡Œæ•°æ®ï¼Œæ‰€ä»¥å¾ˆå¿«ã€‚å¦‚å°†ä¸»é”®ç½®äºwhereè¯­å¥ä¸­ï¼ŒMySQLå°±èƒ½å°†è¯¥æŸ¥è¯¢è½¬æ¢ä¸ºä¸€ä¸ªå¸¸é‡ï¼›</p></li><li><p>eq_refï¼šå”¯ä¸€æ€§ç´¢å¼•æ‰«æï¼Œå¯¹äºæ¯ä¸ªç´¢å¼•é”®ï¼Œè¡¨ä¸­åªæœ‰ä¸€æ¡è®°å½•ä¸ä¹‹åŒ¹é…ã€‚å¸¸è§äºä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•æ‰«æï¼›</p></li><li><p>refï¼šéå”¯ä¸€æ€§ç´¢å¼•æ‰«æï¼Œè¿”å›åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„æ‰€æœ‰è¡Œï¼Œæœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§ç´¢å¼•è®¿é—®ï¼Œå®ƒè¿”å›æ‰€æœ‰åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„è¡Œï¼Œç„¶è€Œï¼Œå®ƒå¯èƒ½ä¼šæ‰¾åˆ°å¤šä¸ªç¬¦åˆæ¡ä»¶çš„è¡Œï¼Œæ‰€ä»¥ä»–åº”è¯¥å±äºæŸ¥æ‰¾å’Œæ‰«æçš„æ··åˆä½“ï¼›</p></li><li><p>rangeï¼šåªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œï¼Œä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥é€‰æ‹©è¡Œï¼Œkeyåˆ—æ˜¾ç¤ºä½¿ç”¨äº†å“ªä¸ªç´¢å¼•ï¼Œä¸€èˆ¬å°±æ˜¯åœ¨ä½ çš„whereè¯­å¥ä¸­å‡ºç°between, &lt;, &gt;, inç­‰çš„æŸ¥è¯¢ï¼Œè¿™ç§èŒƒå›´æ‰«æç´¢å¼•æ¯”å…¨è¡¨æ‰«æè¦å¥½ï¼Œå› ä¸ºå®ƒåªéœ€è¦å¼€å§‹äºç´¢å¼•çš„æŸä¸€ç‚¹ï¼Œè€Œç»“æŸäºå¦ä¸€ç‚¹ï¼Œä¸ç”¨æ‰«æå…¨éƒ¨ç´¢å¼•ï¼›</p></li><li><p>indexï¼šå…¨è¡¨æ‰«æï¼Œindexä¸allåŒºåˆ«ä¸ºindexç±»å‹åªéå†ç´¢å¼•æ ‘ã€‚è¿™é€šå¸¸æ¯”allå¿«ï¼Œå› ä¸ºç´¢å¼•æ–‡ä»¶é€šå¸¸æ¯”æ•°æ®æ–‡ä»¶å°ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´è™½ç„¶allå’Œindexéƒ½æ˜¯è¯»å…¨è¡¨ï¼Œä½†indexæ˜¯ä»ç´¢å¼•ä¸­è¯»å–çš„ï¼Œè€Œallæ˜¯ä»ç¡¬ç›˜è¯»å–çš„ï¼‰ï¼›</p></li><li><p>allï¼šå…¨è¡¨æ‰«æï¼Œå°†éå†å…¨è¡¨ä»¥æ‰¾åˆ°åŒ¹é…çš„è¡Œï¼Œé¿å… all</p></li></ul><h4 id="possible-keyså­—æ®µ" tabindex="-1"><a class="header-anchor" href="#possible-keyså­—æ®µ"><span>possible_keyså­—æ®µ</span></a></h4><p>è¿™ä¸ªè¡¨é‡Œé¢å­˜åœ¨ä¸”å¯èƒ½ä¼šè¢«ä½¿ç”¨çš„ç´¢å¼•ï¼Œå¯èƒ½ä¼šåœ¨è¿™ä¸ªå­—æ®µä¸‹é¢å‡ºç°ï¼Œä½†æ˜¯ä¸€èˆ¬éƒ½ä»¥<code>key</code>ä¸ºå‡†ã€‚</p><h4 id="keyå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#keyå­—æ®µ"><span>keyå­—æ®µ</span></a></h4><p>å®é™…ä½¿ç”¨çš„ç´¢å¼•ï¼Œå¦‚æœä¸º<code>null</code>,åˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•ï¼Œå¦åˆ™ä¼šæ˜¾ç¤ºä½ ä½¿ç”¨äº†å“ªäº›ç´¢å¼•ï¼ŒæŸ¥è¯¢ä¸­è‹¥ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•ï¼ˆæŸ¥è¯¢çš„åˆ—åˆšå¥½æ˜¯ç´¢å¼•ï¼‰ï¼Œåˆ™è¯¥ç´¢å¼•ä»…å‡ºç°åœ¨<code>key</code>åˆ—è¡¨ã€‚</p><h4 id="refå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#refå­—æ®µ"><span>refå­—æ®µ</span></a></h4><p>æ˜¾ç¤ºå“ªäº›åˆ—è¢«ä½¿ç”¨äº†ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œæœ€å¥½æ˜¯ä¸€ä¸ªå¸¸æ•°ã€‚å“ªäº›åˆ—æˆ–å¸¸é‡è¢«ç”¨äºæŸ¥æ‰¾ç´¢å¼•åˆ—ä¸Šçš„å€¼ã€‚</p><h4 id="rowså­—æ®µå’Œfilterå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#rowså­—æ®µå’Œfilterå­—æ®µ"><span>rowså­—æ®µå’ŒFilterå­—æ®µ</span></a></h4><p><code>rows</code>æ˜¯æ ¹æ®è¡¨çš„ç»Ÿè®¡ä¿¡æ¯å’Œç´¢å¼•çš„é€‰ç”¨æƒ…å†µï¼Œä¼˜åŒ–å™¨å¤§æ¦‚å¸®ä½ ä¼°ç®—å‡ºä½ æ‰§è¡Œè¿™è¡Œå‡½æ•°æ‰€éœ€è¦æŸ¥è¯¢çš„è¡Œæ•°ã€‚</p><p><code>Filter</code>æ˜¯æŸ¥è¯¢çš„è¡Œæ•°ä¸æ€»è¡Œæ•°çš„æ¯”å€¼ã€‚å…¶å®ä½œç”¨ä¸<code>rows</code>å·®ä¸å¤šï¼Œéƒ½æ˜¯æ•°å€¼è¶Šå°ï¼Œæ•ˆç‡è¶Šé«˜ã€‚</p><h4 id="extraå­—æ®µ" tabindex="-1"><a class="header-anchor" href="#extraå­—æ®µ"><span>Extraå­—æ®µ</span></a></h4><p>è¿™ä¸€å­—æ®µåŒ…å«ä¸é€‚åˆåœ¨å…¶ä»–åˆ—æ˜¾ç¤ºï¼Œä½†æ˜¯ä¹Ÿéå¸¸é‡è¦çš„é¢å¤–ä¿¡æ¯ã€‚</p><ul><li><p><code>Using filesort</code> è¡¨ç¤ºå½“SQLä¸­æœ‰ä¸€ä¸ªåœ°æ–¹éœ€è¦å¯¹ä¸€äº›æ•°æ®è¿›è¡Œæ’åºçš„æ—¶å€™ï¼Œä¼˜åŒ–å™¨æ‰¾ä¸åˆ°èƒ½å¤Ÿä½¿ç”¨çš„ç´¢å¼•ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨å¤–éƒ¨çš„ç´¢å¼•æ’åºï¼Œå¤–éƒ¨æ’åºå°±ä¸æ–­çš„åœ¨ç£ç›˜å’Œå†…å­˜ä¸­äº¤æ¢æ•°æ®ï¼Œè¿™æ ·å°±æ‘†è„±ä¸äº†å¾ˆå¤šæ¬¡ç£ç›˜IOï¼Œä»¥è‡³äºSQLæ‰§è¡Œçš„æ•ˆç‡å¾ˆä½ã€‚åä¹‹å‘¢ï¼Ÿç”±äºç´¢å¼•çš„åº•å±‚æ˜¯B+Treeå®ç°çš„ï¼Œä»–çš„å¶å­èŠ‚ç‚¹æœ¬æ¥å°±æ˜¯æœ‰åºçš„ï¼Œè¿™æ ·çš„æŸ¥è¯¢èƒ½ä¸çˆ½å—ï¼Ÿ</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> course <span class="token keyword">AS</span> C <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> C<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-pgsql line-numbers-mode" data-ext="pgsql" data-title="pgsql"><pre class="language-pgsql"><code> type    possible_keys  key     key_len  ref       rows  filtered  Extra           
 ------  -------------  ------  -------  ------  ------  --------  ----------------
 ALL     (NULL)         (NULL)  (NULL)   (NULL)      20    100.00  Using filesort  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ²¡æœ‰ç»™<code>C.name</code>å»ºç«‹ç´¢å¼•ï¼Œæ‰€ä»¥åœ¨æ ¹æ®<code>C.name</code>æ’åºçš„æ—¶å€™ï¼Œä»–å°±ä½¿ç”¨äº†å¤–éƒ¨æ’åº</p></li><li><p><code>Using tempporary</code> è¡¨ç¤ºåœ¨å¯¹MySQLæŸ¥è¯¢ç»“æœè¿›è¡Œæ’åºæ—¶ï¼Œä½¿ç”¨äº†ä¸´æ—¶è¡¨,,è¿™æ ·çš„æŸ¥è¯¢æ•ˆç‡æ˜¯æ¯”å¤–éƒ¨æ’åºæ›´ä½çš„ï¼Œå¸¸è§äº<code>order by</code>å’Œ<code>group by</code>ã€‚</p><div class="language-sql line-numbers-mode" data-ext="sql" data-title="sql"><pre class="language-sql"><code><span class="token keyword">EXPLAIN</span>
<span class="token keyword">SELECT</span> C<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">FROM</span> course <span class="token keyword">AS</span> C <span class="token keyword">GROUP</span> <span class="token keyword">BY</span> C<span class="token punctuation">.</span><span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-pgsql line-numbers-mode" data-ext="pgsql" data-title="pgsql"><pre class="language-pgsql"><code>possible_keys  key     key_len  ref       rows  filtered  Extra                            
-------------  ------  -------  ------  ------  --------  ---------------------------------
(NULL)         (NULL)  (NULL)   (NULL)      20    100.00  Using temporary; Using filesort  
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢è¿™ä¸ªæŸ¥è¯¢å°±æ˜¯åŒæ—¶è§¦å‘äº†<code>Using temporary</code>å’Œ<code>Using filesort</code>ï¼Œå¯è°“æ˜¯é›ªä¸ŠåŠ éœœã€‚</p></li><li><p><code>Using index</code> è¡¨ç¤ºä½¿ç”¨äº†ç´¢å¼•ï¼Œå¾ˆä¼˜ç§€ğŸ‘ã€‚</p></li><li><p><code>Using where</code> ä½¿ç”¨äº†<code>where</code>ä½†æ˜¯å¥½åƒæ²¡å•¥ç”¨ã€‚</p></li><li><p><code>Using join buffer</code> è¡¨æ˜ä½¿ç”¨äº†è¿æ¥ç¼“å­˜,æ¯”å¦‚è¯´åœ¨æŸ¥è¯¢çš„æ—¶å€™ï¼Œå¤šè¡¨<code>join</code>çš„æ¬¡æ•°éå¸¸å¤šï¼Œé‚£ä¹ˆå°†é…ç½®æ–‡ä»¶ä¸­çš„ç¼“å†²åŒºçš„<code>join buffer</code>è°ƒå¤§ä¸€äº›ã€‚</p></li><li><p><code>impossible where</code> ç­›é€‰æ¡ä»¶æ²¡èƒ½ç­›é€‰å‡ºä»»ä½•ä¸œè¥¿</p></li><li><p><code>distinct</code> ä¼˜åŒ–<code>distinct</code>æ“ä½œï¼Œåœ¨æ‰¾åˆ°ç¬¬ä¸€åŒ¹é…çš„å…ƒç»„åå³åœæ­¢æ‰¾åŒæ ·å€¼çš„åŠ¨ä½œ</p></li></ul><h2 id="mysqlæ•°æ®åº“cpué£™å‡å¦‚ä½•å®šä½åˆ†æ" tabindex="-1"><a class="header-anchor" href="#mysqlæ•°æ®åº“cpué£™å‡å¦‚ä½•å®šä½åˆ†æ"><span>MySQLæ•°æ®åº“CPUé£™å‡å¦‚ä½•å®šä½åˆ†æ</span></a></h2><blockquote><p>ä½¿ç”¨topè§‚å¯Ÿmysqldçš„cpuåˆ©ç”¨ç‡ï¼ˆç¡®è®¤é—®é¢˜æ˜¯ç”±mysqldäº§ç”Ÿçš„ï¼‰</p></blockquote><ol><li><p>åˆ‡æ¢åˆ°å¸¸ç”¨çš„æ•°æ®åº“</p></li><li><p>ä½¿ç”¨ <strong>show full processlist</strong> æŸ¥çœ‹ä¼šè¯</p><figure><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611223146267.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li><li><p>è§‚å¯Ÿæ˜¯å“ªäº›sqlæ¶ˆè€—äº†èµ„æºï¼Œå…¶ä¸­é‡ç‚¹è§‚å¯ŸstateæŒ‡æ ‡</p></li><li><p>å®šä½åˆ°å…·ä½“sql</p></li></ol><blockquote><p>ä½¿ç”¨pidstate</p></blockquote><ol><li><p>å®šä½åˆ°çº¿ç¨‹</p><figure><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611224045171.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li><li><p>åœ¨æ•°æ®åº“ <strong>performance_schema.threads</strong> ä¸­è®°å½•äº† thread_os_id æ‰¾åˆ°æ‰§è¡Œçš„sql</p><figure><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611224317970.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li><li><p>æ ¹æ®æ“ä½œç³»ç»Ÿidå¯ä»¥åˆ° <strong>performance_schema.processlist</strong> è¡¨æ‰¾åˆ°å¯¹åº”çš„ä¼šè¯</p><figure><img src="https://raw.githubusercontent.com/du-mozzie/PicGo/master/images/image-20240611224347159.png" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure></li><li><p>åœ¨ä¼šè¯ä¸­å³å¯å®šä½åˆ°é—®é¢˜sql</p></li></ol></div><!--[--><!----><!--]--><footer class="vp-page-meta"><!----><div class="vp-meta-item git-info"><!----><div class="contributors"><span class="vp-meta-label">è´¡çŒ®è€…: </span><!--[--><!--[--><span class="vp-meta-info" title="email: 25484255238@qq.com">du</span><!--]--><!--]--></div></div></footer><nav class="vp-page-nav"><a class="route-link nav-link prev" href="/code/mysql/indexes.html" aria-label="ç´¢å¼•"><div class="hint"><span class="arrow start"></span>ä¸Šä¸€é¡µ</div><div class="link"><!---->ç´¢å¼•</div></a><!----></nav><!----><!--[--><!----><!--]--><!--]--></main><!--]--><footer class="vp-footer-wrapper"><!----><div class="vp-copyright">Copyright Â© 2025 mozzie </div></footer></div><!--]--><!--]--><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-Bx7td0iL.js" defer></script>
  </body>
</html>
